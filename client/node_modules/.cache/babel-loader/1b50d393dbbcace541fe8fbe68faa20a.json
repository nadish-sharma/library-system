{"ast":null,"code":"import _slicedToArray from \"/Users/temp-name/Downloads/library-frontend/library-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/temp-name/Downloads/library-frontend/library-front-end/src/components/Card.js\";\nimport React from 'react';\nimport './componentCSS/CardStyles.css';\nimport { useState } from 'react';\nimport BookDescriptionModal from './BookDescriptionModal';\nimport bookImg from '../images/books.jpg';\nfunction Card(_ref) {\n  var _this = this;\n  var bookData = _ref.bookData,\n    bookDataGoogle = _ref.bookDataGoogle,\n    bookDataLibrary = _ref.bookDataLibrary,\n    logoClickedStatus = _ref.logoClickedStatus,\n    setLogoClickedStatus = _ref.setLogoClickedStatus;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    show = _useState2[0],\n    setShow = _useState2[1];\n  var _useState3 = useState(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    bookItem = _useState4[0],\n    setItem = _useState4[1];\n  var _useState5 = useState(true),\n    _useState6 = _slicedToArray(_useState5, 2),\n    loading = _useState6[0],\n    setLoading = _useState6[1]; // Add loading state\n  var bookArray;\n  var bookDataStructure = [];\n  var title;\n  var author;\n  var id;\n  var saleability;\n  var thumbnail;\n  var amount;\n  var currency;\n  useEffect(function () {\n    setLoading(false); // Set loading to false when the component mounts\n  }, []);\n  if (!Array.isArray(bookData)) {\n    bookArray = [bookData];\n  } else {\n    bookArray = bookData;\n  }\n  console.log(\"bookArray:\", bookArray);\n  var book0 = bookArray && bookArray.length > 0 ? bookArray[0] : null;\n  console.log(\"book0:\", book0);\n  var isLibraryBook = book0 && book0.libraryBook ? book0.libraryBook : false;\n  console.log(\"isLibraryBook:\", isLibraryBook);\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 12\n      }\n    }, \"Loading...\"); // Display loading state \n  } else if (bookData != null) {\n    bookArray.forEach(function (book) {\n      if (book && book.libraryBook) {\n        bookDataStructure.push({\n          amount: book.amount,\n          currency: 'CAD',\n          title: book.title,\n          author: book.authorName,\n          id: book.bookId,\n          saleability: 'FREE',\n          thumbnail: bookImg,\n          description: \"here there will be description\",\n          publishedDate: \"any date\"\n        });\n      } else {\n        if (book.saleInfo && book.saleInfo.listPrice) {\n          amount = book.saleInfo.listPrice.amount;\n          currency = book.saleInfo.listPrice.currencyCode;\n        } else {\n          amount = 'FREE';\n          currency = '';\n        }\n        bookDataStructure.push({\n          title: book.volumeInfo.title,\n          author: book.volumeInfo.authors,\n          id: book.id,\n          saleability: book.saleInfo.saleability,\n          thumbnail: book.volumeInfo.imageLinks.thumbnail,\n          description: book.volumeInfo.description,\n          publishedDate: book.volumeInfo.description,\n          amount: amount,\n          currency: currency,\n          book: book\n        });\n      }\n    });\n  }\n  if (bookDataStructure.length > 0) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, bookDataStructure.map(function (book) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: book.id,\n        className: \"card\",\n        onClick: function onClick() {\n          setShow(true);\n          setItem(book);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: book.thumbnail,\n        alt: \"\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"bottom\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"title\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 15\n        }\n      }, book.title), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"author\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 15\n        }\n      }, book.author), book.saleability === 'FREE' ? /*#__PURE__*/React.createElement(\"p\", {\n        className: \"amount\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }\n      }, \"Free\") : /*#__PURE__*/React.createElement(\"p\", {\n        className: \"amount\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }\n      }, book.amount, \" \", book.currency)));\n    }), console.log(bookItem), /*#__PURE__*/React.createElement(BookDescriptionModal, {\n      bookData: bookData,\n      isLibraryBook: isLibraryBook,\n      show: show,\n      book: bookItem,\n      logoClickedStatus: logoClickedStatus,\n      setLogoClickedStatus: setLogoClickedStatus,\n      onClose: function onClose() {\n        return setShow(false);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }\n    }));\n  } else {\n    return /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 7\n      }\n    }, \"Book not found anywhere\");\n  }\n}\nexport default Card;","map":{"version":3,"names":["React","useState","BookDescriptionModal","bookImg","Card","_ref","_this","bookData","bookDataGoogle","bookDataLibrary","logoClickedStatus","setLogoClickedStatus","_useState","_useState2","_slicedToArray","show","setShow","_useState3","_useState4","bookItem","setItem","_useState5","_useState6","loading","setLoading","bookArray","bookDataStructure","title","author","id","saleability","thumbnail","amount","currency","useEffect","Array","isArray","console","log","book0","length","isLibraryBook","libraryBook","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","forEach","book","push","authorName","bookId","description","publishedDate","saleInfo","listPrice","currencyCode","volumeInfo","authors","imageLinks","Fragment","map","key","className","onClick","src","alt","onClose"],"sources":["/Users/temp-name/Downloads/library-frontend/library-front-end/src/components/Card.js"],"sourcesContent":["import React from 'react';\nimport './componentCSS/CardStyles.css';\nimport { useState } from 'react';\nimport BookDescriptionModal from './BookDescriptionModal';\nimport bookImg from '../images/books.jpg';\n\nfunction Card({ bookData, bookDataGoogle, bookDataLibrary, logoClickedStatus, setLogoClickedStatus }) {\n  const [show, setShow] = useState(false);\n  const [bookItem, setItem] = useState();\n  const [loading, setLoading] = useState(true); // Add loading state\n  let bookArray;\n  let bookDataStructure = [];\n  let title;\n  let author;\n  let id;\n  let saleability;\n  let thumbnail;\n  let amount;\n  let currency;\n\n  useEffect(() => {\n    setLoading(false); // Set loading to false when the component mounts\n  }, []);\n\n\n  if (!Array.isArray(bookData)) {\n    bookArray = [bookData];\n  } else {\n    bookArray = bookData;\n  }\n  console.log(\"bookArray:\", bookArray);\n  const book0 = bookArray && bookArray.length > 0 ? bookArray[0] : null;\n  console.log(\"book0:\", book0);\n  const isLibraryBook = book0 && book0.libraryBook ? book0.libraryBook : false;\n  console.log(\"isLibraryBook:\", isLibraryBook);\n\n  if (loading) {\n    return <h1>Loading...</h1>; // Display loading state \n  }\n  else if (bookData != null) {\n    bookArray.forEach((book) => {\n      if (book && book.libraryBook) {\n        bookDataStructure.push({\n          amount: book.amount,\n          currency: 'CAD',\n          title: book.title,\n          author: book.authorName,\n          id: book.bookId,\n          saleability: 'FREE',\n          thumbnail: bookImg,\n          description: \"here there will be description\",\n          publishedDate: \"any date\"\n        });\n      } else {\n        if (book.saleInfo && book.saleInfo.listPrice) {\n          amount = book.saleInfo.listPrice.amount;\n          currency = book.saleInfo.listPrice.currencyCode;\n        } else {\n          amount = 'FREE';\n          currency = '';\n        }\n        bookDataStructure.push({\n          title: book.volumeInfo.title,\n          author: book.volumeInfo.authors,\n          id: book.id,\n          saleability: book.saleInfo.saleability,\n          thumbnail: book.volumeInfo.imageLinks.thumbnail,\n          description: book.volumeInfo.description,\n          publishedDate: book.volumeInfo.description,\n          amount: amount,\n          currency: currency,\n          book : book\n        });\n      }\n    });\n  }\n\n  if (bookDataStructure.length > 0) {\n    return (\n      <>\n        {bookDataStructure.map((book) => (\n          <div key={book.id} className=\"card\" onClick={() => { setShow(true); setItem(book); }}>\n            <img src={book.thumbnail} alt=\"\" />\n            <div className=\"bottom\">\n              <h5 className=\"title\">{book.title}</h5>\n              <p className=\"author\">{book.author}</p>\n              {book.saleability === 'FREE' ? (\n                <p className=\"amount\">Free</p>\n              ) : (\n                <p className=\"amount\">\n                  {book.amount} {book.currency}\n                </p>\n              )}\n            </div>\n          </div>\n        ))}\n        {console.log(bookItem)}\n        <BookDescriptionModal\n          bookData={bookData} isLibraryBook={isLibraryBook}\n          show={show} book={bookItem}\n          logoClickedStatus={logoClickedStatus}\n          setLogoClickedStatus={setLogoClickedStatus}\n          onClose={() => setShow(false)}\n        />\n      </>\n    );\n  } else {\n    return (\n      <h1>Book not found anywhere</h1>\n    );\n  }\n}\n\nexport default Card;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}